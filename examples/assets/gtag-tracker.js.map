{"version":3,"file":"gtag-tracker.js","sources":["../../src/gtag-tracker.js"],"sourcesContent":["module.exports = function(ID) {\n    window.dataLayer = window.dataLayer || [];\n\n    window.gtag = function() { window.dataLayer.push(arguments); }\n    window.gtag('js', new Date());\n    window.gtag('config', ID);\n\n    let loadErrorEvents = window.__e && window.__e.q || [];\n\n    let error = (event) => {\n        //console.log(event)\n        let error = `${event.message} (${event.filename}:${event.lineno}:${event.colno})`;\n        window.gtag('event', 'exception', {\n            description: error,\n            false: false\n        });\n    }\n\n    return {\n        init: () => {\n            // Replay any stored load error events.\n            for (let event of loadErrorEvents) {\n                error(event);\n            }\n\n            // Add a new listener to track event immediately.\n            window.addEventListener('error', error);\n        },\n\n        error: (err) => {\n            window.gtag('event', 'exception', {\n                description: err,\n                false: false\n            });\n        }\n    }\n}"],"names":["ID","dataLayer","window","gtag","push","arguments","Date","loadErrorEvents","__e","q","error","event","message","filename","lineno","colno","addEventListener","err"],"mappings":";;;AAAA,kBAAiB,UAASA,EAAT,EAAa;WACnBC,SAAP,GAAmBC,OAAOD,SAAP,IAAoB,EAAvC;;WAEOE,IAAP,GAAc,YAAW;eAASF,SAAP,CAAiBG,IAAjB,CAAsBC,SAAtB;KAA3B;WACOF,IAAP,CAAY,IAAZ,EAAkB,IAAIG,IAAJ,EAAlB;WACOH,IAAP,CAAY,QAAZ,EAAsBH,EAAtB;;QAEIO,kBAAkBL,OAAOM,GAAP,IAAcN,OAAOM,GAAP,CAAWC,CAAzB,IAA8B,EAApD;;QAEIC,QAASC,KAAD,IAAW;;YAEfD,QAAS,GAAEC,MAAMC,OAAQ,KAAID,MAAME,QAAS,IAAGF,MAAMG,MAAO,IAAGH,MAAMI,KAAM,GAA/E;eACOZ,IAAP,CAAY,OAAZ,EAAqB,WAArB,EAAkC;yBACjBO,KADiB;mBAEvB;SAFX;KAHJ;;WASO;cACG,MAAM;;iBAEH,IAAIC,KAAT,IAAkBJ,eAAlB,EAAmC;sBACzBI,KAAN;;;;mBAIGK,gBAAP,CAAwB,OAAxB,EAAiCN,KAAjC;SARD;;eAWKO,GAAD,IAAS;mBACLd,IAAP,CAAY,OAAZ,EAAqB,WAArB,EAAkC;6BACjBc,GADiB;uBAEvB;aAFX;;KAZR;CAlBJ;;;;;;;;"}